(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9100],{19207:function(e,t,n){Promise.resolve().then(n.bind(n,68195)),Promise.resolve().then(n.bind(n,95401)),Promise.resolve().then(n.bind(n,47579)),Promise.resolve().then(n.bind(n,43309)),Promise.resolve().then(n.bind(n,89856)),Promise.resolve().then(n.bind(n,78834)),Promise.resolve().then(n.bind(n,38927))},68195:function(e,t,n){"use strict";n.d(t,{ClientLottie:function(){return r.a}});var i=n(43393),r=n.n(i)},2053:function(e,t,n){"use strict";var i,r;n.d(t,{d:function(){return i}}),(r=i||(i={})).SIGN_UP="sign-up",r.SIGN_IN="sign-in"},1576:function(e,t,n){"use strict";var i,r;n.d(t,{R:function(){return i}}),(r=i||(i={})).SESSION_ID="sessionId",r.TOKEN="token",r.REFRESH_TOKEN="refreshToken",r.TOKEN_EXPIRES_IN="tokenExpiresIn"},73359:function(e,t,n){"use strict";var i,r;n.d(t,{u:function(){return i}}),(r=i||(i={})).REDIRECT="redirect",r.TOKEN="token",r.PRODUCT="product",r.PRICE_ID="priceId",r.QUANTITY="quantity",r.OPEN="open",r.EMAIL="email",r.GENERATE="generate",r.IS_SIGN_UP="isSignUp",r.IDEATE_TEMPLATE_ID="templateId",r.IMAGE_URL="imageUrl"},31708:function(e,t,n){"use strict";n.d(t,{a:function(){return p}});var i=n(18735),r=n(16463),l=n(2265),a=n(63218),o=n(45019),s=n(18741),c=n(5672),d=n(18617),u=n(82074),m=n(81750),g=n(36805);let p=()=>{let e=(0,r.useRouter)(),t=(0,c.TI)(e=>e.resetCollectionStore),n=(0,d.IJ)(e=>e.resetCollectionStore),p=(0,s.m)(e=>e.resetChangePlanStoreStore),f=(0,u.p)(e=>e.resetPersistToolSettingStore),v=(0,m.m8)()(e=>e.logoutUser);return(0,l.useCallback)(()=>{(0,o.kS)().catch(()=>{});try{(0,i.Kz)(),v(),t(),n(),p(),f(),(0,g.J5)()}catch(e){}e.push(a.H7.AUTH),e.refresh()},[v,p,t,n,f,e])}},31941:function(e,t,n){"use strict";n.d(t,{KK:function(){return f},N2:function(){return u},Yy:function(){return p},me:function(){return v},pm:function(){return m},z$:function(){return d}});var i=n(57437),r=n(79219),l=n(12218),a=n(2265),o=n(8792),s=n(24528),c=n(84343);let d=r.fC,u=()=>(0,i.jsx)(o.XC,{className:"h-5 w-5 rotate-90 transform stroke-[1.5] text-neutral-400 transition-all duration-500 group-data-[state=open]:-rotate-90 dark:text-neutral-40 [.sm_&]:h-[18px] [.sm_&]:w-[18px]"}),m=a.forwardRef((e,t)=>{let{className:n,lightVariant:l,darkVariant:a,size:o,children:d,...u}=e;return(0,i.jsx)(r.xz,{ref:t,className:(0,s.cn)("popover-trigger-base group",(0,c.j)({lightVariant:l,darkVariant:a,size:o}),n),...u,children:d})});m.displayName=r.xz.displayName;let g=(0,l.j)("popover-content-base w-full rounded-lg border data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",{variants:{size:{sm:"sm",md:"md"},lightVariant:{"light-v1":"light-v1 border-neutral-30"},darkVariant:{"dark-v1":"dark-v1 dark:border-neutral-600","dark-v2":"dark-v2 dark:border-neutral-800"},position:{popover:"min-w-[var(--radix-dropdown-menu-trigger-width)]","item-aligned":"aligned"}},defaultVariants:{size:"md",lightVariant:"light-v1",darkVariant:"dark-v1",position:"popover"}}),p=a.forwardRef((e,t)=>{let{className:n,size:l,position:a,lightVariant:o,darkVariant:c,sideOffset:d=4,...u}=e;return(0,i.jsx)(r.Uv,{children:(0,i.jsx)(r.VY,{ref:t,sideOffset:d,className:(0,s.cn)(g({size:l,position:a,lightVariant:o,darkVariant:c}),n),...u})})});p.displayName=r.VY.displayName;let f=a.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,i.jsx)(r.ck,{ref:t,className:(0,s.cn)("flex w-full cursor-pointer select-none items-center justify-between px-3.5 py-2.5 text-sm text-neutral-900 outline-none transition-all duration-500 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:text-neutral-0 dark:data-[disabled]:opacity-30 [.sm_&]:px-2.5 [.sm_&]:py-[7px] [.sm_&]:text-xs","[.dark-v1_&]:dark:bg-neutral-700 [.dark-v1_&]:dark:hover:bg-neutral-600 [.dark-v2_&]:dark:bg-neutral-900 [.dark-v2_&]:dark:hover:bg-neutral-800 [.light-v1_&]:bg-neutral-0 [.light-v1_&]:hover:bg-neutral-20",n),...l})});f.displayName=r.ck.displayName;let v=a.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,i.jsx)(r.Z0,{ref:t,className:(0,s.cn)("m-0 h-px [.dark-v1_&]:bg-neutral-40 [.dark-v1_&]:dark:bg-neutral-600 [.dark-v2_&]:bg-neutral-20 [.dark-v2_&]:dark:bg-neutral-800",n),...l})});v.displayName=r.Z0.displayName,r.ZA,r.Uv,r.Tr,r.Ee,a.forwardRef((e,t)=>{let{className:n,inset:l,children:a,...c}=e;return(0,i.jsxs)(r.fF,{ref:t,className:(0,s.cn)("focus:bg-accent data-[state=open]:bg-accent flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none",l&&"pl-8",n),...c,children:[a,(0,i.jsx)(o.XC,{className:"ml-auto h-4 w-4"})]})}).displayName=r.fF.displayName,a.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,i.jsx)(r.tu,{ref:t,className:(0,s.cn)("bg-popover text-popover-foreground z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...l})}).displayName=r.tu.displayName,a.forwardRef((e,t)=>{let{className:n,children:l,checked:a,...c}=e;return(0,i.jsxs)(r.oC,{ref:t,className:(0,s.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:a,...c,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(r.wU,{children:(0,i.jsx)(o.Ye,{className:"h-4 w-4"})})}),l]})}).displayName=r.oC.displayName,a.forwardRef((e,t)=>{let{className:n,children:l,...a}=e;return(0,i.jsxs)(r.Rk,{ref:t,className:(0,s.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...a,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(r.wU,{})}),l]})}).displayName=r.Rk.displayName,a.forwardRef((e,t)=>{let{className:n,inset:l,...a}=e;return(0,i.jsx)(r.__,{ref:t,className:(0,s.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",n),...a})}).displayName=r.__.displayName},47579:function(e,t,n){"use strict";n.d(t,{ProfileMenu:function(){return v}});var i=n(57437),r=n(16463),l=n(80732),a=n(98090),o=n(45715),s=n(88318),c=n(96994),d=n(31708),u=n(85951),m=n(81750),g=n(47802),p=n(14125),f=n(31941);let v=()=>{var e,t,n;let v=(0,m.m8)()(e=>e.user),h=(0,d.a)(),I=(0,m.m8)()(e=>e.subscription),{page:_,source:x}=(0,c.V)(),{stripeSubscription:S,isSubscriptionActive:N}=(0,p.L)(I),E=null==S?void 0:null===(t=S.StripePrice)||void 0===t?void 0:null===(e=t.StripeProduct)||void 0===e?void 0:e.name,R=null==S?void 0:null===(n=S.StripePrice)||void 0===n?void 0:n.billingInterval,{aggregator:b}=(0,u.O)(),A=(0,r.usePathname)(),P={user_account_status:N?"Premium":"Free",user_plan:E,user_plan_period:R},D=async()=>{try{b.log(l.H.mixpanel.logout_completed.withProperties({...P,signup_channel:"Web",email:null==v?void 0:v.email,distinct_id:null==v?void 0:v.id,page_name:s.I[A]})),b.log(l.H.clevertap.click.withProperties({...P,page_name:_,source:x,trigger:a.U.SIGNOUT_SIDEBAR,variant:o.x.SIDE_BAR_DASHBOARD}))}catch(e){}finally{h()}};return v?(0,i.jsxs)(f.z$,{children:[(0,i.jsxs)(f.pm,{size:"xl",lightVariant:"light-v2",className:"h-14",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"grid size-8 place-items-center rounded-full border border-error-500 bg-error-500 bg-opacity-30 transition-all duration-500",children:(0,i.jsx)("span",{className:"text-xs uppercase text-neutral-900 transition-all duration-500 dark:text-neutral-0",children:(0,g.fo)(v.name)})}),(0,i.jsx)("span",{className:"text-sm capitalize text-neutral-900 transition-all duration-500 dark:text-neutral-0",children:v.name})]}),(0,i.jsx)(f.N2,{})]}),(0,i.jsx)(f.Yy,{children:(0,i.jsx)(f.KK,{onClick:D,children:(0,i.jsx)("span",{className:"text-error-500 dark:text-error-400",children:"Sign Out"})})})]}):null}},85590:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});let i="group flex h-11 w-full items-center justify-start rounded-xl py-3 px-2.5 text-neutral-600 duration-500 hover:bg-neutral-20 dark:text-neutral-60 dark:hover:bg-neutral-700"},43309:function(e,t,n){"use strict";n.d(t,{SideNavItemButton:function(){return m}});var i=n(57437),r=n(80732),l=n(96994),a=n(85951),o=n(81750),s=n(43664),c=n(53574),d=n(14125),u=n(85590);let m=e=>{var t,n,m;let{children:g,event_id:p,sib_id:f,...v}=e,h=(0,o.m8)()(e=>e.user),{page:I,source:_}=(0,l.V)(),{aggregator:x}=(0,a.O)(),S=(0,o.m8)()(e=>e.subscription),{stripeSubscription:N,isSubscriptionActive:E}=(0,d.L)(S),R={page_name:I,source:_,user_account_status:E?"Premium":"Free",user_plan:null==N?void 0:null===(n=N.StripePrice)||void 0===n?void 0:null===(t=n.StripeProduct)||void 0===t?void 0:t.name,user_plan_period:null==N?void 0:null===(m=N.StripePrice)||void 0===m?void 0:m.billingInterval};return(0,i.jsx)("button",{type:"button",onClick:()=>{var e;x.log(r.H.clevertap.click.withProperties(R)),s.c.triggerEventUsingElementId(p),f&&(0,c.iC)(f,null!==(e=null==h?void 0:h.email)&&void 0!==e?e:"")},className:"cursor-pointer ".concat(u.r),...v,children:g})}},89856:function(e,t,n){"use strict";n.d(t,{SideNavItemLink:function(){return v}});var i=n(57437),r=n(87138),l=n(16463),a=n(80732),o=n(96994),s=n(85951),c=n(81750),d=n(43664),u=n(11567),m=n(53574),g=n(14125),p=n(24528),f=n(85590);let v=e=>{var t,n,v;let{event_id:h,sib_id:I,exact:_,trigger:x,variant:S,...N}=e,E=(0,l.usePathname)(),R=(0,u.matchPathname)(E,N.href.toString(),_),b=(0,c.m8)()(e=>e.user),{page:A,source:P}=(0,o.V)(),{aggregator:D}=(0,s.O)(),w=(0,c.m8)()(e=>e.subscription),{stripeSubscription:C,isSubscriptionActive:T}=(0,g.L)(w),O={page_name:A,source:P,trigger:x,variant:S,user_account_status:T?"Premium":"Free",user_plan:null==C?void 0:null===(n=C.StripePrice)||void 0===n?void 0:null===(t=n.StripeProduct)||void 0===t?void 0:t.name,user_plan_period:null==C?void 0:null===(v=C.StripePrice)||void 0===v?void 0:v.billingInterval};return(0,i.jsx)(r.default,{onClick:()=>{var e;D.log(a.H.clevertap.click.withProperties(O)),d.c.triggerEventUsingElementId(h),I&&(0,m.iC)(I,null!==(e=null==b?void 0:b.email)&&void 0!==e?e:"")},className:(0,p.cn)(f.r,{"active bg-neutral-20 text-neutral-900 dark:bg-neutral-700 dark:text-neutral-0":R}),...N})}},78834:function(e,t,n){"use strict";n.d(t,{SideNavSocialLink:function(){return m}});var i=n(57437),r=n(87138);n(2265);var l=n(80732),a=n(45715),o=n(96994),s=n(85951),c=n(81750),d=n(14125),u=n(81149);let m=e=>{var t,n,m;let{children:g,href:p,trigger:f}=e,{page:v,source:h}=(0,o.V)(),{aggregator:I}=(0,s.O)(),_=(0,c.m8)()(e=>e.subscription),{stripeSubscription:x,isSubscriptionActive:S}=(0,d.L)(_),N=null==x?void 0:null===(n=x.StripePrice)||void 0===n?void 0:null===(t=n.StripeProduct)||void 0===t?void 0:t.name,E=null==x?void 0:null===(m=x.StripePrice)||void 0===m?void 0:m.billingInterval,R=S?"Premium":"Free";return(0,i.jsx)(u.z,{variant:"ghost-secondary",size:"icon-sm",asChild:!0,onClick:()=>{I.log(l.H.clevertap.click.withProperties({page_name:v,source:h,trigger:f,variant:a.x.SIDE_BAR_DASHBOARD,user_account_status:R,user_plan:N,user_plan_period:E}))},children:(0,i.jsx)(r.default,{target:"_blank",href:p,children:g})},p)}},38927:function(e,t,n){"use strict";n.d(t,{TopNavConditionalWrapper:function(){return b}});var i=n(57437),r=n(16463),l=n(63218),a=n(87138),o=n(2265),s=n(64818),c=n(80732),d=n(98090),u=n(45715),m=n(96994),g=n(54362),p=n(76111),f=n(12536),v=n(13495),h=n(32994),I=n(85951),_=n(81750),x=n(14125),S=n(81149);let N={[l.H7.DASHBOARD]:"Explore Tools",[l.H7.MINI_APPS]:"Mini Apps",[l.H7.IDEATE_DASHBOARD]:"Ideate"},E=()=>{var e,t,n,E;let R=(0,_.m8)()(e=>e.user),b=(0,o.useRef)(d.U.BUY_TOKENS_DASHBOARD),A=(0,o.useRef)(d.U.BUY_TOKENS_DASHBOARD),P=(0,o.useRef)(d.U.BUY_TOKENS_DASHBOARD),D=(0,o.useRef)(u.x.HEADER_DASHBOARD),w=(0,r.usePathname)(),{page:C,source:T}=(0,m.V)(),{aggregator:O}=(0,I.O)();switch(C){case"Canvas Dashboard":b.current=d.U.BUY_TOKENS_CANVAS_DASHBOARD,A.current=d.U.UPGRADE_CANVAS_DASHBOARD,P.current=d.U.DARK_MODE_CANVAS_DASHBOARD,D.current=u.x.CANVAS_DASHBOARD;break;case"Dashboard":b.current=d.U.BUY_TOKENS_DASHBOARD,A.current=d.U.UPGRADE_DASHBOARD,P.current=d.U.DARK_MODE_DASHBOARD,D.current=u.x.HEADER_DASHBOARD;break;case"Mini Apps":b.current=d.U.BUY_TOKENS_MINI_APPS,A.current=d.U.UPGRADE_MINI_APPS,P.current=d.U.DARK_MODE_MINI_APPS,D.current=u.x.MINI_APPS;break;case"Ideate Dashboard":b.current=d.U.BUY_TOKENS_IDEATE_DASHBOARD,A.current=d.U.UPGRADE_IDEATE_DASHBOARD,P.current=d.U.DARK_MODE_IDEATE_DASHBOARD,D.current=u.x.IDEATE_DASHBOARD;break;case"Subscription":b.current=d.U.BUY_TOKENS_SUBSCRIPTION,A.current=d.U.UPGRADE_SUBSCRIPTION,P.current=d.U.DARK_MODE_SUBSCRIPTION,D.current=u.x.MANAGE_SUBSCRIPTION}let U=(0,_.m8)()(e=>e.subscription),{stripeSubscription:k,isSubscriptionActive:y}=(0,x.L)(U),j={page_name:C,source:T,user_account_status:y?"Premium":"Free",user_plan:null==k?void 0:null===(t=k.StripePrice)||void 0===t?void 0:null===(e=t.StripeProduct)||void 0===e?void 0:e.name,user_plan_period:null==k?void 0:null===(n=k.StripePrice)||void 0===n?void 0:n.billingInterval};return(0,i.jsxs)(h.j.Root,{className:"flex w-full justify-between pr-4",children:[(0,i.jsx)(h.j.Item,{className:"bg-transparent pl-4 shadow-none",children:(0,i.jsx)("h1",{className:"text-2xl font-semibold",children:null!==(E=N[w])&&void 0!==E?E:""})}),(0,i.jsxs)(h.j.Item,{className:"gap-2 bg-neutral-0 dark:bg-neutral-800",children:[R?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.L,{variant:"v2",trigger:A.current,triggerVariant:D.current}),y?(0,i.jsx)(p.BuyMoreTokensModalCTA,{variant:"secondary-color",size:"xs",onClick:()=>{O.log(c.H.clevertap.click.withProperties({...j,trigger:b.current,variant:D.current}))},children:"Buy tokens"}):(0,i.jsxs)(g.PricingModalCTA,{size:"xs",variant:"secondary-color",className:"gap-2",onClick:()=>{O.log(c.H.clevertap.click.withProperties({...j,trigger:A.current,variant:D.current}))},children:[(0,i.jsx)(v.CE,{className:"size-5"})," Upgrade"]})]}):(0,i.jsx)(S.z,{variant:"secondary-color",size:"xs",asChild:!0,children:(0,i.jsx)(a.default,{href:l.H7.AUTH,children:"Sign in"})}),(0,i.jsx)(s.J,{size:"icon-sm",onClick:()=>{O.log(c.H.clevertap.click.withProperties({...j,trigger:P.current,variant:D.current}))}})]})]})},R=[l.H7.VIDEOS,l.H7.LIBRARY],b=()=>{let e=(0,r.usePathname)();return R.includes(e)?null:(0,i.jsx)(E,{})}},32994:function(e,t,n){"use strict";n.d(t,{j:function(){return m}});var i=n(57437),r=n(2265),l=n(24528);let a=e=>r.Children.count(e)>0,o=e=>{let{children:t,className:n}=e;return(0,i.jsx)("nav",{className:(0,l.cn)("relative grid h-12 max-h-12 min-h-12 w-full place-items-center",n),children:(0,i.jsx)("div",{className:"flex w-full flex-wrap items-center justify-between",children:t})})},s=e=>{let{children:t,className:n}=e;return a(t)?(0,i.jsx)("div",{className:(0,l.cn)("mr-auto flex items-center",n),children:t}):null},c=e=>{let{children:t,className:n}=e;return a(t)?(0,i.jsx)("div",{className:(0,l.cn)("absolute left-1/2 flex w-fit -translate-x-1/2 items-center",n),children:t}):null},d=e=>{let{children:t,className:n}=e;return a(t)?(0,i.jsx)("div",{className:(0,l.cn)("ml-auto flex items-center",n),children:t}):null},u=r.forwardRef((e,t)=>{let{className:n,children:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center gap-2 rounded-2xl bg-neutral-0 p-2 shadow-[0px_10px_20px_0px_rgba(0,_0,_0,_0.05)] transition-colors duration-500 dark:bg-neutral-900 dark:shadow-none",n),...a,children:r})});o.displayName="NewNavbarRoot",s.displayName="NewNavbarStart",c.displayName="NewNavbarCenter",d.displayName="NewNavbarEnd",u.displayName="NewNavbarItem";let m={Root:o,Start:s,Center:c,End:d,Item:u}},15905:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var i=n(52247),r=n(11141),l=n(70778);let a=new r.hE({baseURL:i.v.AUTH_API_URL,defaultHeadersGenerator:l.A})},45019:function(e,t,n){"use strict";n.d(t,{Wb:function(){return a},kS:function(){return s},tc:function(){return o}});var i=n(15905),r=n(81284);let l="/auth/other",a=async e=>{if(!e)throw Error("Refresh token is not available");return await r.l.post("/".concat(l,"/refresh/web"),{headers:{Authorization:"Bearer ".concat(e)}})},o=async e=>{let{data:{result:t}}=await i.U.get("".concat(l,"/user-info/"),{params:{token:e}},{throwOnError:!0});return t},s=async()=>{await i.U.post("".concat(l,"/logout"),null,{throwOnError:!0})}},81284:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var i=n(52247);let r=new(n(11141)).hE({baseURL:i.v.AUTH_API_URL})},9680:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var i=n(52247);let r=new(n(11141)).hE({baseURL:i.v.PAYMENT_API_URL}),l=async e=>{let{data:{result:t}}=await r.get("/subscription/user",{headers:e,cache:"no-cache"},{throwOnError:!0});return t}},18741:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});let i=(0,n(39099).Ue)()(e=>({changeToPlan:null,isImmediate:!1,setChangeToPlan:t=>e(()=>({changeToPlan:t})),setImmediate:t=>e(()=>({isImmediate:t})),resetChangeToPlan:()=>e(()=>({changeToPlan:null,isImmediate:!1})),resetChangePlanStoreStore:()=>e(()=>({changeToPlan:null,isImmediate:!1}))}))},5672:function(e,t,n){"use strict";n.d(t,{TI:function(){return l},cg:function(){return a},yn:function(){return r}});var i=n(67259);let r=(e,t)=>(0,i.Qt)(e,t),l=(0,i.hB)(r),a=(0,i.hB)(r)},67259:function(e,t,n){"use strict";n.d(t,{Qt:function(){return m},hB:function(){return p}});var i=n(14643),r=n(20920),l=n(39099),a=n(89291),o=n(22241),s=n(52247),c=n(47802);let d=(e,t)=>{if(!e||!t)return!1;let n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>{let i=e[n],r=t[n];return i&&r&&(0,c.EE)(i,r)})},u=e=>(null==e?void 0:e.trim().toLowerCase())||"",m=(e,t)=>{var n,i,r,l;return!!e&&!!t&&d(e.tags,t.tags)&&e.aspect_ratio===t.aspect_ratio&&e.cfg===t.cfg&&e.high_res_results===t.high_res_results&&u(e.negative_prompt)===u(t.negative_prompt)&&u(e.prompt)===u(t.prompt)&&e.seed===t.seed&&(null===(n=e.style)||void 0===n?void 0:n.id)===(null===(i=t.style)||void 0===i?void 0:i.id)&&(null===(r=e.model)||void 0===r?void 0:r.id)===(null===(l=t.model)||void 0===l?void 0:l.id)},g=e=>{let{collections:t,selectedCollectionId:n}=e;return n?t.findIndex(e=>e.id===n):-1},p=e=>(0,l.Ue)()((0,o.n)((0,a.mW)((t,n)=>({collections:[],selectedImageId:void 0,selectedCollectionId:void 0,setSelectedCollection:e=>{t(t=>{let n=t.collections.find(t=>t.id===e.id);n&&(t.selectedCollectionId=n.id,t.selectedImageId=n.images[0].id)})},setSelectedImage:e=>{t(t=>{let n=t.collections.find(e=>e.id===t.selectedCollectionId);n&&n.images.find(t=>t.id===e)&&(t.selectedImageId=e)})},addImagesToCollection:(l,a,o)=>{t(t=>{let s=g(n()),c=(0,i.cA)(a),d=l.map(e=>({id:(0,r.Z)(),...e,...o?{originalSrc:o.src,originalImageId:o.id,isVariation:!!o}:{}}));if(-1===s||!t.collections[s]){let e=(0,i.cA)({id:(0,r.Z)(),images:d,settings:a});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(...d);else{let e=(0,i.P2)({id:(0,r.Z)(),images:d,settings:a});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}})},addImageToCollectionWithLoading:(l,a)=>{let o=(0,r.Z)();return t(t=>{let s=g(n()),c=(0,i.cA)(l),d={id:o,src:"",...a?{originalSrc:a.src,originalImageId:a.id,isVariation:!!a}:{},isLoading:!0};if(-1===s||!t.collections[s]){let e=(0,i.cA)({id:(0,r.Z)(),images:[d],settings:l});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(d);else{let e=(0,i.P2)({id:(0,r.Z)(),images:[d],settings:l});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}}),{imageId:o,collectionId:""}},createCollectionWithSettings:e=>{let n=(0,r.Z)();return t(t=>{let r=(0,i.P2)({id:n,images:[],settings:e});t.collections.unshift(r)}),{collectionId:n}},addImageToGivenCollectionWithLoading:(e,n)=>{let i=(0,r.Z)();return t(t=>{let r={id:i,src:"",...n?{originalSrc:n.src,originalImageId:n.id,isVariation:!!n}:{},isLoading:!0},l=g({collections:t.collections,selectedCollectionId:e});-1!==l&&t.collections[l]&&t.collections[l].images.unshift(r)}),{imageId:i,collectionId:""}},deleteGivenCollection(e){t(t=>{let n=g({collections:t.collections,selectedCollectionId:e});-1!==n&&t.collections[n]&&t.collections.splice(n,1)})},completeImageGenerationLoadingOnGivenCollection(e){let{image:n,imageId:i,collectionId:r}=e;t(e=>{let t=g({collections:e.collections,selectedCollectionId:r});if(-1===t||!e.collections[t])return;let l=e.collections[t].images.find(e=>e.id===i);l&&(l.isLoading=!1,l.src=n.src)})},deleteLoadingImageFromGivenCollection:e=>{let{imageId:n,collectionId:i}=e;t(e=>{let t=g({collections:e.collections,selectedCollectionId:i});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==n),e.collections[t].images.length>0||e.collections.splice(t,1))})},setImageLoadingOnGivenCollection:(e,n,i)=>{t(t=>{let r=g({collections:t.collections,selectedCollectionId:i});if(-1===r||!t.collections[r])return;let l=t.collections[r].images.find(t=>t.id===e);l&&(l.isLoading=n)})},setImageUpscaleOnGivenCollection:(e,n,i,r)=>{t(t=>{let l=g({collections:t.collections,selectedCollectionId:r});if(-1===l||!t.collections[l])return;let a=t.collections[l].images.find(t=>t.id===e);a&&(a.upscaleSrc=n,a.isUpscaled=i)})},deleteImageFromGivenCollection:e=>{let{imageId:n,collectionId:i}=e;t(e=>{let t=g({collections:e.collections,selectedCollectionId:i});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==n),e.collections[t].images.length>0||(e.collections=e.collections.filter(n=>{var i;return n.id!==(null===(i=e.collections[t])||void 0===i?void 0:i.id)})))})},setFocusOfOriginalImageOnGivenCollection:(e,n,i)=>{t(t=>{let r=g({collections:t.collections,selectedCollectionId:i});if(-1===r||!t.collections[r])return;let l=t.collections[r].images.find(t=>t.id===e);l&&(l.isFocused=n)})},completeImageGenerationLoading(e){let{image:i,imageId:r}=e;t(e=>{e.collections.forEach(e=>{let t=e.images.find(e=>e.id===r);t&&(t.isLoading=!1,t.src=i.src,i.randomSeed&&(t.randomSeed=i.randomSeed))});let t=g(n());if(-1===t)return;let l=e.collections[t].images.find(e=>e.id===r);l&&(l.src=i.src,l.isLoading=!1,i.randomSeed&&(l.randomSeed=i.randomSeed))})},deleteLoadingImage(e){t(t=>{var i;let r=g(n());-1!==r&&(t.collections[r].images=t.collections[r].images.filter(t=>t.id!==e),t.collections[r].images.length>0||(t.collections.splice(r,1),t.selectedCollectionId=null===(i=t.collections[0])||void 0===i?void 0:i.id))})},resetCollectionStore:()=>{t(e=>{e.collections=[],e.selectedCollectionId=void 0,e.selectedImageId=void 0})},setImageLoading:(e,i)=>{t(t=>{t.collections.forEach(t=>{let n=t.images.find(t=>t.id===e);n&&(n.isLoading=i)});let r=g(n());if(-1===r)return;let l=t.collections[r].images.find(t=>t.id===e);l&&(l.isLoading=i)})},setImagesUpscale:(e,i,r)=>{t(t=>{t.collections.forEach(t=>{t.images.forEach(t=>{e===t.id&&(t.upscaleSrc=i,t.isUpscaled=r)})});let l=g(n());-1!==l&&t.collections[l].images.forEach(t=>{e===t.id&&(t.upscaleSrc=i,t.isUpscaled=r)})})},deleteImage:e=>{t(t=>{var i;t.collections.forEach(t=>{t.images=t.images.filter(t=>t.id!==e)}),e===t.selectedImageId&&(t.selectedImageId=void 0);let r=g(n());-1!==r&&(t.collections[r].images=t.collections[r].images.filter(t=>t.id!==e),t.collections[r].images.length>0||(t.collections=t.collections.filter(e=>{var n;return e.id!==(null===(n=t.collections[r])||void 0===n?void 0:n.id)}),t.selectedCollectionId=null===(i=t.collections[0])||void 0===i?void 0:i.id))})},setFocusOfOriginalImage:(e,i)=>{t(t=>{let r=g(n());if(-1===r)return;let l=t.collections[r].images.find(t=>t.id===e);l&&(l.isFocused=i)})}}),{enabled:!s.v.IS_PROD_DEPLOYMENT&&(0,c.Ep)().isBrowser})))},18617:function(e,t,n){"use strict";n.d(t,{Hv:function(){return a},IJ:function(){return l},Tp:function(){return r}});var i=n(67259);let r=(e,t)=>(null==e?void 0:e.image)===(null==t?void 0:t.image)&&(null==e?void 0:e.control)===(null==t?void 0:t.control)&&(null==e?void 0:e.strength)===(null==t?void 0:t.strength)&&(0,i.Qt)(e,t),l=(0,i.hB)(r),a=(0,i.hB)(r)},82074:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var i=n(39099),r=n(89291);let l=e=>({...e,image:null,croppedImage:null}),a=(0,i.Ue)()((0,r.tJ)(e=>({persistedFromTextSetting:null,persistedImageRemixSetting:null,persistedTextToImageSetting:null,persistFromTextSetting:t=>e({persistedFromTextSetting:t}),persistImageRemixSetting:t=>{let{image:n,imageCroppedFrom:i,...r}=t;return e({persistedImageRemixSetting:r})},persistTextToImageSetting:t=>{var n;return e({persistedTextToImageSetting:{...t,prompt:"",image_guidance:{...t.image_guidance,...l(t.image_guidance),base:{...(null===(n=t.image_guidance)||void 0===n?void 0:n.base)||{},image_caption:""}}}})},resetPersistToolSettingStore:()=>e({persistedFromTextSetting:null,persistedImageRemixSetting:null,persistedTextToImageSetting:null})}),{name:"persist-tool-setting",version:2}))},36805:function(e,t,n){"use strict";n.d(t,{Oj:function(){return h},gi:function(){return d},vK:function(){return u},Pl:function(){return v},J5:function(){return f},Ml:function(){return p},Lm:function(){return g}});var i=n(44785);n(12314);var r=n(52247),l=n(2053);n(52479);var a=n(1576),o=n(63218),s=n(73359),c=n(45019);n(81284),n(9680);let d=e=>{let{email:t="",isCompleteRedirectUrl:n=!1,open:i,redirect:l="",slug:a}=e,o=new URL("".concat(r.v.VYRO_AUTH_URL,"/").concat(a)),c=n?l:new URL(l||window.location.pathname,window.location.origin);o.searchParams.append(s.u.REDIRECT,c.toString()),o.searchParams.append(s.u.PRODUCT,"imagine"),i&&o.searchParams.append(s.u.OPEN,i),t&&o.searchParams.append(s.u.EMAIL,t),window.location.href=o.toString()},u=(e,t)=>{let n=new URL(o.H7.STRIPE_REDIRECT,window.location.origin),i=encodeURIComponent(e),r=encodeURIComponent(t.toString());n.searchParams.append(s.u.PRICE_ID,i),n.searchParams.append(s.u.QUANTITY,r),d({slug:l.d.SIGN_IN,redirect:n.toString(),isCompleteRedirectUrl:!0})},m=(e,t)=>{if(!t||!e)return!0;let n=Number(t);return new Date().getTime()>n},g=(e,t)=>{let n=new Date(Date.now()+216e5);e&&t.set(a.R.SESSION_ID,e,{expires:n})},p=e=>{let{token:t,refreshToken:n,tokenExpiresIn:i,cookies:r}=e,l=new Date(Date.now()+1e3*i),o=new Date(Date.now()+6048e5);n&&r.set(a.R.REFRESH_TOKEN,n,{expires:o}),t&&(r.set(a.R.TOKEN,t,{expires:l}),r.set(a.R.TOKEN_EXPIRES_IN,i.toString(),{expires:l}))},f=(e,t)=>{let n=t?t=>{var n;return null==e?void 0:null===(n=e.delete)||void 0===n?void 0:n.call(e,t)}:e=>i.Z.remove(e);n(a.R.TOKEN),n(a.R.REFRESH_TOKEN),n(a.R.TOKEN_EXPIRES_IN),n(a.R.SESSION_ID)},v=async(e,t,n)=>{if(!m(e,n))return;let i=await (0,c.Wb)(t);if("success"===i.code)return i.data.result;throw Error(i.error.message)},h=()=>{let e=i.Z.get(a.R.TOKEN);return e?"Bearer ".concat(e):""}}},function(e){e.O(0,[4705,1750,1763,231,1606,7754,7337,6533,3684,5018,9659,5510,7071,3393,2061,2314,9622,9219,7728,6750,8030,8795,8211,2971,7023,1744],function(){return e(e.s=19207)}),_N_E=e.O()}]);