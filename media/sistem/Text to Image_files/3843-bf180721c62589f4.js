"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3843],{8379:function(e,t,l){l.d(t,{O:function(){return s}});var a=l(57437),n=l(13495),r=l(24528);let s=e=>{let{credits:t,className:l,btnText:s="Generate"}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("inline-flex items-center gap-2",l),children:[(0,a.jsx)("div",{children:s}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-3.5 min-w-0.5 rounded-full bg-neutral-0/50 group-disabled:bg-neutral-900/50 dark:group-disabled:bg-neutral-0/50"}),(0,a.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)(n.Ss,{className:"size-4"})]})]})]})}},55872:function(e,t,l){l.d(t,{O:function(){return c.O},D:function(){return g}});var a=l(57437),n=l(2265),r=l(34124),s=l(81149),i=l(95401),o=l(24528),c=l(8379);let d=(0,n.createContext)({isLoading:!1}),u=e=>{let{children:t,value:l}=e;return(0,a.jsx)(d.Provider,{value:l,children:t})},m=()=>{let e=(0,n.useContext)(d);if(void 0===e)throw Error("useGenerateButtonContext must be used within a GenerateButtonProvider");return e},x=n.forwardRef((e,t)=>{let{credits:l,btnText:n,contentClassName:i,...d}=e,{isLoading:u}=m();return(0,a.jsx)(s.z,{size:"sm",variant:"ai",ref:t,type:"submit",id:"generateBtn",className:(0,o.cn)("w-full opacity-100",{"group-hover:opacity-0":u}),...d,children:u?(0,a.jsx)(r.$,{className:"size-5"}):(0,a.jsx)(c.O,{credits:l,btnText:n})})});x.displayName="GenerateButton";let g=Object.assign(e=>{let{children:t,isLoading:l,className:n}=e;return(0,a.jsx)("div",{className:(0,o.cn)("group relative flex h-max",n),children:(0,a.jsx)(u,{value:{isLoading:l},children:t})})},{Button:x,Cancel:e=>{let{handleCancel:t,containerClassName:l,...n}=e,{isLoading:r}=m();return r?(0,a.jsx)(i.WithGenericTooltip,{content:"Cancellation will still consume token",children:(0,a.jsx)("div",{className:(0,o.cn)("absolute left-0 top-0 z-0 w-full opacity-0 hover:opacity-100 group-hover:opacity-100",l),children:(0,a.jsx)(s.z,{size:"sm",className:"w-full",variant:"secondary",type:"button",onClick:t,...n,children:"Cancel"})})}):null}})},56570:function(e,t,l){l.d(t,{f:function(){return h}});var a=l(57437),n=l(39343),r=l(64756),s=l(2265),i=l(1255),o=l(55872),c=l(24019),d=l(32057),u=l(13495),m=l(43664),x=l(81149),g=l(24528);let p=(0,s.forwardRef)((e,t)=>{let{name:l,value:n,disabled:p,isLoading:h,onCancel:v,generateBtnId:f,pseudoDisabled:j,shouldOverrideExpand:b,toolComponents:k,tokenCost:I,isRenderedInsideCanvasModal:N=!1,onGenerateCallback:y=()=>{},containerProps:w={},...C}=e,_=(0,s.useId)(),[T,E]=(0,s.useState)(!1),S=p||!n||(null==n?void 0:n.length)===0,{activeTool:z}=(0,d.B)(),{className:A,...L}=w,G=N||T||b||n.length>0?"expanded":"normal";return(0,a.jsxs)("label",{htmlFor:_,"data-state":G,onFocus:()=>E(!0),onMouseEnter:()=>E(!0),onBlur:e=>E(e.currentTarget.matches(":hover")),onMouseLeave:()=>{var e;(null===(e=document.activeElement)||void 0===e?void 0:e.id)!==_&&E(!1)},className:(0,g.cn)("hide-scrollbar prompt-wrapper group flex w-full max-w-[1024px] cursor-text justify-center rounded-[20px] bg-neutral-0 p-2.5 pl-6 shadow-[0px_10px_20px_0px_rgba(0,0,0,0.05)] ring-inset ring-primary-500 transition-all duration-500 focus-within:ring-1 data-[state=expanded]:h-auto data-[state=expanded]:flex-col  data-[state=normal]:flex-col data-[state=expanded]:items-end data-[state=normal]:items-center data-[state=expanded]:overflow-scroll dark:bg-neutral-900 dark:shadow-none dark:ring-primary-400",{"ring-1":b,"flex h-[122px] max-h-[122px] min-h-[122px] flex-col items-center justify-end gap-3 overflow-hidden rounded-xl pb-2 pl-3 pr-2 pt-3 dark:bg-neutral-800 dark:focus-within:!bg-neutral-800 dark:hover:bg-neutral-700":N,"relative z-50 h-[242px] max-h-[242px] min-h-[242px] rounded-none rounded-bl-xl rounded-br-xl border-t ring-0 dark:border-neutral-700 dark:ring-0 dark:hover:bg-neutral-800":N&&b},A),...L,children:[(0,a.jsx)(r.fC,{type:"single",value:G,className:"flex w-full flex-1",children:(0,a.jsx)(r.ck,{value:"expanded",className:"w-full",children:(0,a.jsx)(r.VY,{className:"group/og-accordion w-full overflow-hidden text-sm transition-all data-[state=open]:animate-accordion-down",children:(0,a.jsx)(i.Z,{id:_,ref:t,name:l,minRows:1,value:n,onKeyDown:e=>{if(h){e.preventDefault();return}if("Enter"===e.key&&!e.shiftKey){var t,l;if(e.preventDefault(),S||h)return;m.c.triggerEventUsingElementId(f,void 0,{[c.L.TOOL_USED]:z}),y(),null===(l=e.currentTarget)||void 0===l||null===(t=l.form)||void 0===t||t.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}},placeholder:"Describe what you want to see with phrases, and separate them with commas.",maxRows:N&&!b?3:7,className:(0,g.cn)("scrollbar__variant2 mb-auto w-full resize-none border-none !bg-inherit bg-neutral-0 pl-0 text-sm font-medium leading-5 text-neutral-900 placeholder-neutral-200 outline-none transition-colors duration-500  focus:ring-0  dark:bg-neutral-900 dark:text-neutral-0 dark:placeholder-neutral-80",{"focus:placeholder-neutral-900 focus:placeholder-transparent group-data-[state=expanded]:placeholder-neutral-900 dark:group-data-[state=expanded]:placeholder-neutral-0":!N,"p-0 pr-1 text-xs/[18px] font-normal dark:focus:!placeholder-neutral-80 dark:group-hover:placeholder-neutral-0":N,"dark:group-hover:bg-neutral-800":N&&b}),...C})})})}),(0,a.jsxs)("div",{className:(0,g.cn)("mt-auto flex w-full items-center justify-end gap-2",{"mt-0 h-9":N}),children:[(0,a.jsx)("label",{htmlFor:_,className:(0,g.cn)("w-full border-none p-0 text-sm font-medium leading-5 text-neutral-200 outline-none transition-all duration-0 focus:text-neutral-900 focus:text-transparent focus:ring-0 group-data-[state=expanded]:opacity-0 group-data-[state=normal]:opacity-100 dark:bg-neutral-900 dark:text-neutral-80",{hidden:N}),children:"Describe what you want to see with phrases, and separate them with commas."}),(0,a.jsx)("div",{"data-state":G,className:(0,g.cn)("mr-0 flex items-center justify-center gap-2 opacity-100 data-[state=normal]:mr-2 data-[state=normal]:opacity-0",{"gap-1":N}),children:k}),(0,a.jsx)("div",{"data-state":G,className:"mr-0 flex items-center justify-center data-[state=expanded]:mr-2 data-[state=expanded]:hidden",children:(0,a.jsx)(x.z,{variant:"ghost-secondary",size:"icon-xl",asChild:!0,children:(0,a.jsx)("div",{children:(0,a.jsx)(u.Rd,{className:"size-6"})})})}),(0,a.jsxs)(o.D,{isLoading:null!=h&&h,className:(0,g.cn)("h-10 min-w-[141px]",{"h-9":N}),children:[(0,a.jsx)(o.D.Button,{credits:I,disabled:j,onClick:e=>{if(h){e.preventDefault();return}y(),m.c.triggerEventUsingElementId(f,void 0,{[c.L.TOOL_USED]:z})},size:N?"sm":"md"}),(0,a.jsx)(o.D.Cancel,{handleCancel:v,size:N?"sm":"md"})]})]})]})});p.displayName="GenericPromptInputAlt";let h=e=>{let{formHook:{control:t},name:l,disabled:r=!1,...s}=e;return(0,a.jsx)(n.Qr,{control:t,name:l,render:e=>{let{field:{ref:t,...l}}=e;return(0,a.jsx)(p,{...l,...s,ref:t,disabled:r})}})}},28643:function(e,t,l){l.d(t,{j:function(){return n}});var a=l(57437);let n=e=>{let{isTruncated:t,...l}=e;return(0,a.jsxs)("button",{type:"button",className:"ml-1 text-neutral-200 dark:text-neutral-80",...l,children:[" ","...",t?"See less":"See more"]})}},76286:function(e,t,l){l.d(t,{c:function(){return i}});var a=l(57437),n=l(95428),r=l(24528),s=l(28643);let i=e=>{let{prompt:t,className:l}=e,{isTruncated:i,text:o,toggleTruncatedText:c,hasMoreText:d}=(0,n.K)(t);return(0,a.jsxs)("div",{className:(0,r.cn)("text-sm font-medium text-neutral-900 dark:text-neutral-0",l),children:[(0,a.jsx)("span",{children:o}),d&&(0,a.jsx)(s.j,{isTruncated:i,onClick:c})]})}},62372:function(e,t,l){l.d(t,{_C:function(){return s},kc:function(){return i}});var a=l(57437),n=l(2265);let r=(0,n.createContext)({animateImageLoadingState:{},setAnimateImageLoadingState:()=>{},deleteStateAnimateImageLoadingState:()=>{}}),s=e=>{let{children:t}=e,[l,s]=(0,n.useState)({}),i=(e,t)=>{s(l=>({...l,[e]:t}))},o=e=>{s(t=>{let l={...t};return delete l[e],l})},c=(0,n.useMemo)(()=>({animateImageLoadingState:l,deleteStateAnimateImageLoadingState:o,setAnimateImageLoadingState:i}),[l]);return(0,a.jsx)(r.Provider,{value:c,children:t})},i=()=>{let e=(0,n.useContext)(r);if(!e)throw Error("useAnimateImageLoadingStateContext must be used within a AnimateImageLoadingProvider");return e}},46409:function(e,t,l){var a,n;l.d(t,{R:function(){return a}}),(n=a||(a={})).LAST_EDITED="lastEdited",n.OLDEST_FIRST="oldestFirst",n.NEWEST_FIRST="newestFirst"},40736:function(e,t,l){l.d(t,{G:function(){return o}});var a=l(57437);l(2265);var n=l(83359),r=l(54361),s=l(81149),i=l(82442);let o=e=>{let{imageId:t,children:l,handleDeleteImage:o,customModelControls:c,modalContainer:d=document.body}=e,u=(0,r.d)(),{isModalOpen:m,setIsModalOpen:x}=null!=c?c:u,g=async()=>{try{o(t),x(!1)}catch(e){console.error(e),i.Am.error("An error occurred")}};return(0,a.jsxs)(n.$E,{open:m,onOpenChange:x,children:[l&&(0,a.jsx)(n.$c,{asChild:!0,children:l}),(0,a.jsxs)(n.Yk,{container:null!=d?d:void 0,className:"w-[460px] min-w-[460px] max-w-[460px]",children:[(0,a.jsx)(n.Zh,{}),(0,a.jsx)(n._w,{children:(0,a.jsx)(n.mp,{children:"Delete Result"})}),(0,a.jsx)(n.DQ,{className:"p-6 pt-[18px]",children:(0,a.jsx)("p",{className:"text-sm",children:"On confirmation result will be permanently deleted. Are you sure you want to delete this image?"})}),(0,a.jsx)(n.vb,{children:(0,a.jsx)(s.z,{type:"submit",onClick:g,children:"Delete result"})})]})]})}},60818:function(e,t,l){l.d(t,{c:function(){return ei}});var a=l(57437),n=l(2265),r=l(41926),s=l(24528),i=l(8662),o=l(16838),c=l(13495);let d=e=>{let{onClick:t}=e;return(0,a.jsx)("button",{"aria-label":"Next Button",className:"absolute right-4 top-1/2 z-50 rounded-xl bg-neutral-0 bg-opacity-[0.24] p-2.5 outline-none backdrop-blur-lg transition-all duration-500 hover:bg-neutral-0 hover:bg-opacity-[0.44]",onClick:t,type:"button",children:(0,a.jsx)(c.aK,{className:"text-neutral-900 dark:text-neutral-0"})})},u=e=>{let{onClick:t}=e;return(0,a.jsx)("button",{"aria-label":"Previous Button",className:"absolute left-4 top-1/2 z-50 rotate-180 rounded-xl bg-neutral-0 bg-opacity-[0.24] p-2.5 outline-none backdrop-blur-lg transition-all duration-500 hover:bg-opacity-[0.44]",onClick:t,type:"button",children:(0,a.jsx)(c.aK,{className:"text-neutral-900 dark:text-neutral-0"})})},m=e=>{let{onClick:t,isSelected:l,index:r}=e,i=(0,n.useRef)(null);return(0,n.useEffect)(()=>{l&&setTimeout(()=>{var e;null===(e=document.getElementById("image-carousel-indicator-".concat(r)))||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"center"})},0)},[r,l]),(0,a.jsx)("button",{ref:i,id:"image-carousel-indicator-".concat(r),"aria-label":"Image#".concat(r),type:"button",onClick:t,className:(0,s.cn)("h-2 min-h-2 w-[18px] min-w-[18px] rounded-full bg-neutral-0 bg-opacity-[0.24] opacity-100 backdrop-blur-[6px]",{"bg-opacity-100":l})})},x=e=>{let{images:t,className:l="",currentImgIndex:c,onChange:x,aspectRatio:g,loaderVariant:p="skeleton"}=e,h=(0,n.useRef)(null),v=r.IK[g];return(0,n.useEffect)(()=>{var e;null===(e=h.current)||void 0===e||e.forceFocus()},[]),(0,a.jsx)("div",{className:"grid flex-1 place-items-center overflow-hidden bg-neutral-20 dark:bg-neutral-900",children:(0,a.jsx)(i.lr,{infiniteLoop:!0,ref:h,useKeyboardArrows:!0,showStatus:!1,showThumbs:!1,className:"overflow-hidden",selectedItem:c,showIndicators:t.length>1,renderArrowNext:e=>t.length>1?(0,a.jsx)(d,{onClick:e}):null,renderArrowPrev:e=>t.length>1?(0,a.jsx)(u,{onClick:e}):null,onChange:e=>{null==x||x(e)},renderIndicator:(e,t,l)=>(0,a.jsx)(m,{onClick:e,isSelected:t,index:l}),children:t.map(e=>e.isLoading?(0,a.jsx)("div",{className:"grid size-full place-items-center",children:(0,a.jsx)("div",{className:(0,s.cn)("w-auto",v.aspectRatio),style:{minHeight:"".concat(1.8*v.height,"px")},children:(0,a.jsx)(o.S3,{variant:p})},e.id)},e.id):(0,a.jsx)("div",{className:"size-full",children:(0,a.jsx)("img",{className:(0,s.cn)("size-full object-contain",l),src:e.isUpscaled?e.upscaleSrc:e.src,alt:e.id})},e.id))})})};var g=l(83359),p=l(80732),h=l(98090),v=l(45715),f=l(96994),j=l(85951),b=l(10733),k=l(81750),I=l(14125),N=l(81149);let y=e=>{var t,l,n;let{collection:r,currentImgIndex:s,handleImageUpscale:i}=e,{upscale:o}=(0,b.Td)()(e=>e.fullViewModalSettings),c=r.images[s],{page:d,source:u}=(0,f.V)(),{aggregator:m}=(0,j.O)(),x=(0,k.m8)()(e=>e.subscription),{stripeSubscription:g,isSubscriptionActive:y}=(0,I.L)(x),w=null==g?void 0:null===(l=g.StripePrice)||void 0===l?void 0:null===(t=l.StripeProduct)||void 0===t?void 0:t.name,C=null==g?void 0:null===(n=g.StripePrice)||void 0===n?void 0:n.billingInterval,_={page_name:d,source:u,variant:v.x.TEXT_IMAGE_V2,user_account_status:y?"Premium":"Free",user_plan:w,user_plan_period:C};return(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 self-stretch",children:[(0,a.jsx)("h6",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:"Upscale"}),(0,a.jsxs)("div",{className:"flex w-full max-w-[280px] items-start gap-2",children:[(0,a.jsx)(N.z,{size:"md",variant:"secondary",className:"flex-1 disabled:pointer-events-none",onClick:()=>{m.log(p.H.clevertap.click.withProperties({..._,trigger:h.U.UPSCALE_SUBTLE_v2})),i(c.id,o.subtle)},disabled:c.isLoading,children:"Subtle"}),(0,a.jsx)(N.z,{size:"md",variant:"secondary",className:"flex-1 disabled:pointer-events-none",onClick:()=>{m.log(p.H.clevertap.click.withProperties({..._,trigger:h.U.UPSCALE_CREATIVE_V2})),i(c.id,o.creative)},disabled:c.isLoading,children:"Creative"})]})]})},w=e=>{var t,l,n;let{collection:r,currentImgIndex:s,handleImageVariate:i,handleNavigateToFirstImage:o}=e,{variate:c}=(0,b.Td)()(e=>e.fullViewModalSettings),d=r.images[s],{page:u,source:m}=(0,f.V)(),{aggregator:x}=(0,j.O)(),g=(0,k.m8)()(e=>e.subscription),{stripeSubscription:y,isSubscriptionActive:w}=(0,I.L)(g),C=null==y?void 0:null===(l=y.StripePrice)||void 0===l?void 0:null===(t=l.StripeProduct)||void 0===t?void 0:t.name,_=null==y?void 0:null===(n=y.StripePrice)||void 0===n?void 0:n.billingInterval,T={page_name:u,source:m,variant:v.x.TEXT_IMAGE_V2,user_account_status:w?"Premium":"Free",user_plan:C,user_plan_period:_};return(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 self-stretch",children:[(0,a.jsx)("h6",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:"Variate"}),(0,a.jsxs)("div",{className:"flex w-full max-w-[280px] items-start gap-2",children:[(0,a.jsx)(N.z,{size:"md",variant:"secondary",className:"flex-1 disabled:pointer-events-none",onClick:()=>{x.log(p.H.clevertap.click.withProperties({...T,trigger:h.U.VARIATE_SUBTLE_V2})),null==i||i(d.id,c.subtle),o()},disabled:d.isLoading,children:"Subtle"}),(0,a.jsx)(N.z,{size:"md",variant:"secondary",className:"flex-1 disabled:pointer-events-none",onClick:()=>{x.log(p.H.clevertap.click.withProperties({...T,trigger:h.U.VARIATE_STRONG_V2})),null==i||i(d.id,c.strong),o()},disabled:d.isLoading,children:"Strong"})]})]})},C=e=>{let{currentImgIndex:t,collection:l,isVariationSupported:n,handleImageUpscale:r,handleImageVariate:s,handleNavigateToFirstImage:i}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-start gap-4 self-stretch",children:[(0,a.jsx)("h6",{className:"font-medium text-neutral-900 dark:text-neutral-0",children:"Enhancements"}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-3 self-stretch",children:[(0,a.jsx)(y,{collection:l,currentImgIndex:t,handleImageUpscale:r}),n&&(0,a.jsx)(w,{collection:l,currentImgIndex:t,handleImageVariate:s,handleNavigateToFirstImage:i})]})]})},_=e=>{let{negativePrompt:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:"Negative Prompt"}),(0,a.jsx)("p",{className:"w-full text-sm text-neutral-400 dark:text-neutral-60",children:null!=t?t:"-"})]})};var T=l(91606),E=l(76286),S=l(95401),z=l(82442),A=l(8792);let L=e=>{let{prompt:t}=e,[,l]=(0,T.m9)();return(0,a.jsxs)("div",{className:"flex flex-col items-start gap-2 self-stretch",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between self-stretch",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:"Prompt"}),(0,a.jsx)(S.WithGenericTooltip,{content:"Copy",children:(0,a.jsx)(N.z,{size:"icon-sm",variant:"ghost-secondary",className:"bg-neutral-30 dark:bg-neutral-600",onClick:()=>{l(t).then(()=>z.Am.success("Prompt copied to clipboard!"))},children:(0,a.jsx)(A.TI,{className:"size-[18px] stroke-[2]"})})})]}),(0,a.jsx)(E.c,{className:"font-normal",prompt:t})]})};var G=l(16463),M=l(63218),P=l(73359),R=l(62372),O=l(57552);let D=e=>{let{className:t}=e;return(0,a.jsxs)("svg",{width:"21",height:"21",fill:"none",viewBox:"0 0 21 21",className:t,children:[(0,a.jsx)("path",{d:"M18.402 10.871v5.833a1.667 1.667 0 0 1-1.666 1.667H5.069a1.667 1.667 0 0 1-1.667-1.667V5.038A1.667 1.667 0 0 1 5.07 3.37h5.833m7.5 10-2.571-2.572a1.667 1.667 0 0 0-2.357 0l-7.572 7.572m4.167-10a1.667 1.667 0 1 1-3.333 0 1.667 1.667 0 0 1 3.333 0Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"m14.234 2.54 4.167 2.678-4.167 2.678V2.54Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},V=e=>{let{className:t}=e;return(0,a.jsx)("svg",{width:"21",height:"21",fill:"none",viewBox:"0 0 21 21",className:t,children:(0,a.jsx)("path",{d:"m4.234 7.536 3.334-3.333m5 0-8.334 8.334m0 5L17.568 4.203m0 5-8.334 8.334m8.334-3.334-3.334 3.334",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},B=e=>{let{className:t}=e;return(0,a.jsxs)("svg",{width:"21",height:"21",fill:"none",viewBox:"0 0 21 21",className:t,children:[(0,a.jsx)("path",{d:"M11.954 3.867 5.112 11.11c-.258.275-.508.816-.558 1.191L4.245 15c-.108.976.592 1.642 1.559 1.476l2.683-.459c.375-.066.9-.341 1.158-.625l6.842-7.241c1.183-1.25 1.717-2.675-.125-4.417-1.833-1.725-3.225-1.117-4.408.133Z",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10.813 5.078a5.105 5.105 0 0 0 4.541 4.292M3.402 19.207h15",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})};var F=l(26067),U=l(8127),H=l(43183),W=l(34124);let X=e=>{let{Icon:t,title:l,onClick:n=()=>{},isLoading:r=!1}=e;return(0,a.jsx)(N.z,{size:"none",variant:"secondary",className:(0,s.cn)("flex h-[68.5px] w-[89px] flex-col gap-2 rounded-lg py-2",{"pointer-events-none opacity-50":r}),onClick:n,children:r?(0,a.jsx)(W.$,{className:"size-6"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex size-6 shrink-0 items-center justify-center",children:(0,a.jsx)(t,{className:"size-5"})}),(0,a.jsx)("span",{className:"text-xs/[18px] font-semibold",children:l})]})})},Z=()=>{let{canScrollNext:e,canScrollPrev:t}=(0,H.o)();return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(H.GenericCarouselPrevious,{className:"left-2 z-10 size-7 rounded-[9px] bg-neutral-0 p-[5px] shadow-[0px_10px_20px_0px_rgba(0,0,0,0.08)] dark:bg-neutral-900",variant:"none",size:"none",renderIcon:(0,a.jsx)(c.OE,{})}),e&&(0,a.jsx)(H.GenericCarouselNext,{className:"right-2 z-10 size-7 rounded-[9px] bg-neutral-0 p-[5px] shadow-[0px_10px_20px_0px_rgba(0,0,0,0.08)] dark:bg-neutral-900",variant:"none",size:"none",renderIcon:(0,a.jsx)(A.XC,{})})]})},K=e=>{var t,l,n;let{collection:r,currentImgIndex:s,handleNavigateToFirstImage:i=()=>{},handleAnimateImage:o=()=>{}}=e,c=(0,G.useRouter)(),d=(0,O.R)(),{animateImageLoadingState:u}=(0,R.kc)(),m=r.images[s],{page:x,source:g}=(0,f.V)(),{aggregator:b}=(0,j.O)(),N=(0,k.m8)()(e=>e.subscription),{stripeSubscription:y,isSubscriptionActive:w}=(0,I.L)(N),C=null==y?void 0:null===(l=y.StripePrice)||void 0===l?void 0:null===(t=l.StripeProduct)||void 0===t?void 0:t.name,_=null==y?void 0:null===(n=y.StripePrice)||void 0===n?void 0:n.billingInterval,T={page_name:x,source:g,variant:v.x.TEXT_IMAGE_V2,user_account_status:w?"Premium":"Free",user_plan:C,user_plan_period:_},E=(0,F.W1)(e=>e.completeImageGenerationLoadingOnGivenCollection),S=(0,F.W1)(e=>e.addImageToGivenCollectionWithLoading),z=[{title:"Edit",Icon:B,onClick:()=>{var e;b.log(p.H.clevertap.click.withProperties({...T,trigger:h.U.EDIT_V2}));let t=new URLSearchParams;t.set(P.u.IMAGE_URL,null!==(e=m.upscaleSrc)&&void 0!==e?e:m.src),c.push("".concat(M.H7.CANVAS_IMGLY,"?").concat(t.toString()))}},{title:"Remove Bg",Icon:V,onClick:async()=>{b.log(p.H.clevertap.click.withProperties({...T,trigger:h.U.BG_REMOVE_V2}));let e=S(r.id);i();let t=await (0,U.K$)(m.src),l=await d.mutateAsync({imgBlob:t});if(!l)throw Error("Processing stopped");let a=await (0,U.ug)(l);E({image:{src:(0,U.RJ)(a)},imageId:e.imageId,collectionId:r.id})},isLoading:!1},{title:"Animate",Icon:D,onClick:()=>{b.log(p.H.clevertap.click.withProperties({...T,trigger:h.U.ANIMATE_V2})),o(m.id,r.id)},isLoading:u[m.id]}];return(0,a.jsxs)("div",{className:"flex flex-col items-start gap-4 self-stretch",children:[(0,a.jsx)("h6",{className:"font-medium text-neutral-900 dark:text-neutral-0",children:"Quick Actions"}),(0,a.jsxs)(H.GenericCarousel,{className:"w-full",children:[(0,a.jsx)(H.GenericCarouselContent,{className:"-ml-1",children:z.map(e=>(0,a.jsx)(H.GenericCarouselItem,{className:"basis-1/4 pl-1",children:(0,a.jsx)(X,{...e},e.title)},e.title))}),(0,a.jsx)(Z,{})]})]})};var $=l(66648);let Y=e=>{let{title:t,value:l,Icon:n,image:r}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start gap-2",children:[(0,a.jsx)("h3",{className:"flex items-center justify-start gap-1 text-sm font-medium text-neutral-900 dark:text-neutral-0",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-neutral-400 dark:text-neutral-60",children:[n&&(0,a.jsx)(n,{className:"size-6"}),!n&&r&&(0,a.jsx)("div",{className:"relative size-6 flex-shrink-0 overflow-hidden rounded",children:(0,a.jsx)($.default,{src:null!=r?r:"",alt:t,fill:!0,className:"object-cover"})}),(0,a.jsx)("div",{className:"text-sm",children:null!=l?l:"-"})]})]})};var Q=e=>{let{getSettingItems:t,collection:l,currentImgIndex:n}=e,r=t(l.images[n]);return(0,a.jsx)("div",{className:"grid grid-cols-3 gap-x-3 gap-y-4 xl:gap-x-12",children:r.map(e=>(0,a.jsx)(Y,{...e},e.title))})},q=l(52247),J=l(40736),ee=l(12600),et=l(54361);let el=e=>{let{collection:t,currentImgIndex:l,handleDeleteImage:n,setCurrentImgIndex:r,closeFullViewModal:s}=e,i=t.images[l],{downloadImage:o}=(0,ee.q)(i),d=(0,et.d)();return(0,a.jsxs)("div",{className:"flex h-10 items-center gap-1",children:[(0,a.jsx)(J.G,{imageId:i.id,customModelControls:d,handleDeleteImage:e=>{1===t.images.length?s():0===l?r(0):l===t.images.length-1&&r(l-1),n(e)}}),(0,a.jsx)(S.WithGenericTooltip,{content:"Download",children:(0,a.jsxs)(N.z,{type:"button",size:"icon-xl",variant:"ghost-secondary",onClick:o,children:[(0,a.jsx)(c._8,{className:"stroke-[1.75]"}),(0,a.jsx)("span",{className:"sr-only",children:"Download Image"})]})}),(0,a.jsx)(S.WithGenericTooltip,{content:"Delete",children:(0,a.jsxs)(N.z,{type:"button",size:"icon-xl",variant:"ghost-secondary",className:"hover:text-error-500",onClick:d.openModal,children:[(0,a.jsx)(c.XH,{className:"stroke-[1.5]"}),(0,a.jsx)("span",{className:"sr-only",children:"Delete"})]})})]})},ea="".concat(q.v.ASSETS_CDN,"assets/images/imagine-icon.png"),en=e=>{var t;let{collection:l,currentImgIndex:n,handleDeleteImage:r,setCurrentImgIndex:s,closeFullViewModal:i}=e,o=(0,k.m8)()(e=>e.user);return(0,a.jsxs)("div",{className:"flex h-20 items-center justify-between border-b border-neutral-20 p-4 dark:border-neutral-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"relative size-12",children:(0,a.jsx)($.default,{fill:!0,alt:"profile-img",className:"size-full rounded-full",src:(null==o?void 0:o.profileImageKey)?"".concat(q.v.PROFILE_IMAGE_CDN,"/").concat(null==o?void 0:o.profileImageKey):ea})}),(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)("p",{className:"font-medium text-neutral-900 dark:text-neutral-0",children:null!==(t=null==o?void 0:o.name)&&void 0!==t?t:"Imagine User"})})]}),(0,a.jsx)(el,{collection:l,currentImgIndex:n,handleDeleteImage:r,setCurrentImgIndex:s,closeFullViewModal:i})]})},er=e=>{var t;let{collection:l,currentImgIndex:n,handleDeleteImage:r,setCurrentImgIndex:s,closeFullViewModal:i,getSettingItems:o,isVariationSupported:c=!1,handleImageUpscale:d,handleImageVariate:u,handleNavigateToFirstImage:m,handleAnimateImage:x,version:p}=e,h=l.settings.negative_prompt||void 0;return(0,a.jsxs)("div",{className:"flex h-full w-full max-w-[350px] flex-col bg-neutral-0 dark:bg-neutral-800 xl:max-w-[430px]",children:[(0,a.jsx)("div",{className:"h-10 w-full"}),(0,a.jsx)(en,{collection:l,currentImgIndex:n,handleDeleteImage:r,closeFullViewModal:i,setCurrentImgIndex:s}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-between gap-4 p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-start gap-6 self-stretch",children:[(0,a.jsx)(L,{prompt:null!==(t=l.settings.prompt)&&void 0!==t?t:"-"}),(0,a.jsx)(Q,{currentImgIndex:n,collection:l,getSettingItems:o}),!!h&&(0,a.jsx)(_,{negativePrompt:h})]}),(0,a.jsxs)("div",{className:"flex w-full flex-col items-start justify-end gap-6 self-start",children:["svi4"===p&&(0,a.jsx)(K,{collection:l,currentImgIndex:n,handleNavigateToFirstImage:m,handleAnimateImage:x}),(0,a.jsx)(C,{collection:l,currentImgIndex:n,handleImageUpscale:d,handleImageVariate:u,isVariationSupported:c,handleNavigateToFirstImage:m})]})]}),(0,a.jsx)(g.vb,{className:"hidden xl:block"})]})},es=(0,l(12218).j)("flex",{variants:{type:{"full-screen":"full-screen h-screen w-screen",responsive:"responsive w-[min(calc(100vw-64px),1310px)] h-[min(calc(100vh-93px),834px)]"}},defaultVariants:{type:"full-screen"}}),ei=e=>{let{collection:t,loaderVariant:l,getSettingItems:i,initialImageIndex:o,handleDeleteImage:c,closeFullViewModal:d,isVariationSupported:u=!1,handleImageUpscale:m,handleImageVariate:g,type:p,className:h,handleAnimateImage:v=()=>{},version:f="legacy"}=e,[j,b]=(0,n.useState)(o),k=r.Py[t.settings.aspect_ratio];return(0,a.jsxs)("div",{className:(0,s.cn)(es({type:p,className:h})),children:[(0,a.jsx)(x,{className:k,images:t.images,loaderVariant:l,onChange:b,currentImgIndex:j,aspectRatio:t.settings.aspect_ratio}),(0,a.jsx)(er,{collection:t,currentImgIndex:j,getSettingItems:i,handleDeleteImage:c,closeFullViewModal:d,setCurrentImgIndex:b,isVariationSupported:u,handleImageUpscale:m,handleImageVariate:g,handleNavigateToFirstImage:()=>{b(0)},handleAnimateImage:v,version:f})]})}},69085:function(e,t,l){l.d(t,{h:function(){return r}});var a=l(57437),n=l(83359);let r=e=>{let{isFullViewOpen:t,children:l,closeFullViewModal:r}=e;return(0,a.jsx)(n.$E,{open:t,onOpenChange:e=>{e||r()},children:(0,a.jsxs)(n.Yk,{className:"has-[.responsive]:overflow-hidden has-[.full-screen]:rounded-none has-[.responsive]:rounded-2xl",overlayClassName:"backdrop-blur-[6px]",children:[(0,a.jsx)(n.Zh,{onClick:r}),l]})})}},16838:function(e,t,l){l.d(t,{dk:function(){return x},S3:function(){return o}});var a=l(57437),n=l(24528);let r="rounded-lg p-1 text-neutral-0 hover:bg-neutral-0 hover:bg-opacity-[0.24] size-7",s=e=>{let{children:t,className:l}=e;return(0,a.jsx)("div",{className:(0,n.cn)("absolute inline-flex flex-col items-center justify-center gap-1 rounded-lg bg-black bg-opacity-[0.34] p-1 opacity-0 backdrop-blur-sm transition-all duration-500 group-hover:opacity-100",l),children:t})};var i=l(34124);let o=e=>{let{variant:t="skeleton",className:l}=e;return"spinner"===t?(0,a.jsx)("div",{className:(0,n.cn)("flex size-full items-center justify-center rounded bg-neutral-30 dark:bg-neutral-900",l),children:(0,a.jsx)(i.$,{className:"size-[50px] border-primary-400"})}):(0,a.jsx)("div",{className:(0,n.cn)("size-full animate-pulse rounded bg-neutral-20 dark:bg-neutral-700",l)})};var c=l(13495),d=l(81149),u=l(95401),m=l(12600);let x={Root:e=>{let{id:t,image:l,children:r,className:s,isFocused:i,loaderVariant:c,handleFullView:d,isLoading:u=!1}=e;return(0,a.jsx)("div",{className:(0,n.cn)("w-full",s),children:l&&!u?(0,a.jsxs)("div",{id:t,className:"group relative flex size-full flex-shrink-0 rounded",children:[(0,a.jsx)("img",{alt:t,src:l,className:(0,n.cn)("size-full rounded transition-all duration-100",{"border-2 border-primary-500":i})}),(0,a.jsx)("button",{type:"button",onClick:d,"aria-label":"Open Full View",className:"absolute inset-0"}),r]}):(0,a.jsx)(o,{variant:c})})},VariateIcon:e=>{let{className:t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("absolute right-0 top-0 rounded-bl-lg bg-black bg-opacity-[0.24] p-1 text-neutral-0 opacity-100 transition-all duration-500 group-hover:opacity-0",t),children:(0,a.jsx)(c.lw,{className:"size-5 stroke-[1.5]"})})},ToolbarButtons:e=>{let{image:t,onDownload:l,handleFullView:n}=e,{downloadImage:i}=(0,m.q)(t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s,{className:"right-2 top-2",children:(0,a.jsx)(u.WithGenericTooltip,{content:"Download",genericTooltipContentProps:{side:"left"},children:(0,a.jsxs)(d.z,{size:"none",variant:"none",className:r,onClick:async()=>{await i(),null==l||l()},children:[(0,a.jsx)(c._8,{className:"stroke-[1.5]"}),(0,a.jsx)("span",{className:"sr-only",children:"Download"})]})})}),(0,a.jsx)(s,{className:"bottom-2 right-2",children:(0,a.jsx)(u.WithGenericTooltip,{content:"Full View",genericTooltipContentProps:{side:"left"},children:(0,a.jsxs)(d.z,{size:"none",variant:"none",onClick:n,className:r,children:[(0,a.jsx)(c.MZ,{className:"stroke-[1.5]"}),(0,a.jsx)("span",{className:"sr-only",children:"Full View"})]})})})]})},InteractionButtons:e=>{let{handleLike:t,handleDislike:l}=e;return(0,a.jsxs)(s,{className:"left-2 top-2",children:[(0,a.jsx)(u.WithGenericTooltip,{content:"Like",genericTooltipContentProps:{side:"left"},children:(0,a.jsxs)(d.z,{size:"none",variant:"none",onClick:t,className:r,children:[(0,a.jsx)(c.lb,{className:"stroke-[1.5]"}),(0,a.jsx)("span",{className:"sr-only",children:"Like"})]})}),(0,a.jsx)(u.WithGenericTooltip,{content:"Dislike",genericTooltipContentProps:{side:"left"},children:(0,a.jsxs)(d.z,{size:"none",variant:"none",onClick:l,className:r,children:[(0,a.jsx)(c.kZ,{className:"stroke-[1.5]"}),(0,a.jsx)("span",{className:"sr-only",children:"Dislike"})]})})]})},ManipulationButtons:e=>{let{handleUpscale:t,handleImageVariate:l,isUpscaled:i=!1,isImageVariateBtn:o=!0}=e;return(0,a.jsxs)(s,{className:"bottom-2 right-2",children:[(0,a.jsx)(u.WithGenericTooltip,{content:i?"Upscaled":"Upscale",genericTooltipContentProps:{side:"left"},children:(0,a.jsxs)(d.z,{size:"none",onClick:t,variant:i?"primary":"none",className:(0,n.cn)(r,{"bg-primary-500 hover:bg-primary-600 hover:bg-opacity-100 focus:bg-primary-500":i}),children:[(0,a.jsx)(c.yW,{className:"stroke-[1.5]"}),(0,a.jsx)("span",{className:"sr-only",children:"Upscale"})]})}),o&&(0,a.jsx)(u.WithGenericTooltip,{content:"Variate",genericTooltipContentProps:{side:"left"},children:(0,a.jsxs)(d.z,{size:"none",variant:"none",className:r,onClick:l,children:[(0,a.jsx)(c.lw,{className:"size-6 stroke-[1.5]"}),(0,a.jsx)("span",{className:"sr-only",children:"Variate"})]})})]})},OriginalImageThumbnail:e=>{let{image:t,className:l,handleClick:r}=e;return(0,a.jsxs)("div",{tabIndex:0,role:"button",onClick:r,onKeyDown:r,className:(0,n.cn)("group/og-image absolute bottom-2 left-2 overflow-hidden rounded-lg border border-neutral-0/[0.24] opacity-0 transition-all duration-500 group-hover:opacity-100",l),children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black bg-opacity-60 opacity-0 transition-all duration-500 group-hover/og-image:opacity-100",children:(0,a.jsx)("span",{className:"text-base font-normal text-neutral-0",children:"Original"})}),t&&(0,a.jsx)("img",{src:t,alt:"Original",className:"size-full rounded-lg object-cover"})]})},HighlightLabel:e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"absolute left-2 top-2 flex items-center justify-center gap-1 rounded-lg bg-black/[0.34] px-2 py-1 backdrop-blur-sm",children:(0,a.jsx)("span",{className:"text-center text-sm font-medium text-neutral-0",children:t})})}}},5641:function(e,t,l){l.d(t,{o:function(){return p}});var a=l(57437),n=l(16463),r=l(63218),s=l(60566),i=l(13495),o=l(10733),c=l(81750),d=l(47802),u=l(53574),m=l(81149),x=l(24528);let g={[r.H7.FROM_TEXT]:s.r.TEXT_TO_IMAGE_RANDOM_BTN,[r.H7.IMAGE_REMIX]:s.r.IMAGE_REMIX_RANDOM_BTN},p=e=>{let{name:t,formHook:l,customRandomPrompts:r,isRenderedInsideCanvasModal:s=!1}=e,p=(0,n.usePathname)(),h=(0,c.m8)()(e=>e.user),v=(0,o.Td)()(e=>e.randomPromptLibrary),f=r||v;return(0,a.jsx)(m.z,{type:"button",variant:"ghost-secondary",onClick:e=>{var a;e.preventDefault();let n=null==f?void 0:f.paragraphs;if(!n)return;let r=(0,d.EN)(n.length),s=n[r];l.setValue(t,s.text),l.setValue("random_prompt_clicked",!0),g[p]&&(0,u.iC)(g[p],null!==(a=null==h?void 0:h.email)&&void 0!==a?a:"")},size:s?"icon-lg":"icon-xl",children:(0,a.jsx)(i.Gb,{className:(0,x.cn)("size-6 stroke-[1.5]",{"size-[18px]":s})})})}},37079:function(e,t,l){l.d(t,{w:function(){return M}});var a=l(57437),n=l(16463),r=l(2265),s=l(55872),i=l(56570),o=l(63218),c=l(60566),d=l(32057),u=l(55365),m=l(54361),x=l(80163),g=l(81750),p=l(50473),h=l(53574),v=l(24528),f=l(5641),j=l(39343),b=l(27271),k=l(13495),I=l(81149),N=l(78764),y=l(34468),w=l(10733);let C=e=>{let{tag:t,isSelected:l,onClick:n,isRenderedInsideCanvasModal:r}=e;return(0,a.jsxs)("button",{type:"button",onClick:n,className:(0,v.cn)("flex justify-center rounded-[100px] border border-solid border-neutral-40 bg-neutral-0 px-3 py-2 text-xs font-medium text-neutral-900 hover:bg-neutral-20 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-0 dark:hover:border-neutral-700 dark:hover:bg-neutral-800",{"gap-1 border-primary-500 bg-primary-500 bg-opacity-[0.15] pr-2 hover:border-primary-500 hover:bg-primary-500 hover:bg-opacity-[0.15] dark:border-primary-400 dark:bg-primary-400 dark:bg-opacity-[0.15]  dark:hover:border-primary-400 dark:hover:bg-primary-400 dark:hover:bg-opacity-[0.15]":l,"border px-2.5 py-[5px] transition duration-500 dark:border-neutral-700 dark:bg-neutral-800 dark:bg-opacity-100 dark:hover:border-neutral-600 dark:hover:bg-neutral-700":r,"dark:border-primary-400 dark:bg-primary-400 dark:bg-opacity-[0.15] dark:hover:border-primary-400 dark:hover:bg-primary-400 dark:hover:bg-opacity-[0.15]":r&&l}),children:[(0,a.jsx)("p",{children:t}),l&&(0,a.jsx)("button",{"aria-label":"Remove tag",type:"button",className:"flex size-4 items-center justify-center rounded-full transition-colors duration-500 hover:bg-neutral-50 dark:hover:bg-neutral-600",children:(0,a.jsx)(k.DX,{className:"size-3"})})]})},_=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],T=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],E=(e,t)=>{var l,a;return t[e]&&null!==(a=null===(l=t[e])||void 0===l?void 0:l.size)&&void 0!==a?a:0},S=e=>{let{tags:t,setTags:l,sortTags:n,category:r,setCategory:s,isRenderedInsideCanvasModal:i=!1,onCloseModal:o=()=>{}}=e,c=(0,w.Td)()(e=>e.promptKeywords),d=(e,a)=>{var n,r,s;let i={...t};i[e]=i[e]||new Set,(null===(n=i[e])||void 0===n?void 0:n.has(a))?null===(r=i[e])||void 0===r||r.delete(a):i[e]=new Set([...Array.from(null!==(s=i[e])&&void 0!==s?s:[]),a]),l(i)};return(0,a.jsxs)(y.GenericTab,{defaultValue:r,onValueChange:s,value:r,children:[(0,a.jsxs)("div",{className:(0,v.cn)("flex items-center justify-between border-b border-neutral-20 py-3 pl-6 dark:border-neutral-800",{"gap-2 p-2  pl-3 text-neutral-900 dark:border-neutral-700 dark:text-neutral-0":i}),children:[(0,a.jsx)(N.o,{orientation:"horizontal",hideScrollBar:!0,className:(0,v.cn)("hide-scrollbar",T.join(" "),{"max-w-[calc(524px-36px-16px-8px)] overflow-x-auto":i}),children:(0,a.jsx)(y.GenericTabList,{className:(0,v.cn)("flex flex-row gap-2",{"gap-1":i}),children:c.data.map(e=>{let l=E(e.name,t),n=r===e.name;return(0,a.jsxs)(y.GenericTabTrigger,{value:e.name,className:(0,v.cn)("flex cursor-pointer flex-row rounded-[40px] px-4 py-[6px] text-center text-sm font-medium transition-colors",{"gap-2 pr-1.5":l>0,"px-3.5 py-[5px] text-xs":i}),children:[(0,a.jsx)("p",{children:e.name}),l>0&&(0,a.jsx)("p",{className:(0,v.cn)("flex items-center gap-2 rounded-[40px] bg-neutral-30 px-1.5 py-0.5 text-center text-xs font-medium text-neutral-900 transition-colors duration-500 dark:bg-neutral-700 dark:text-neutral-0",{"bg-neutral-0 dark:bg-neutral-800":n}),children:l})]},e.name)})})}),i&&(0,a.jsx)(I.z,{onClick:o,size:"sm",variant:"ghost-secondary",className:"p-[9px]",children:(0,a.jsx)(k.I0,{className:"size-[18px]"})})]}),c.data.map(e=>{var l,s;return(0,a.jsx)(y.GenericTabContent,{className:(0,v.cn)("scrollbar__alt flex h-[174px] flex-row flex-wrap items-center gap-1 gap-y-2 overflow-y-auto px-6 py-[18px]",{hidden:r!==e.name,"m-0 h-[250px] max-w-[524px] gap-1.5 p-3 pr-2":i}),value:e.name,asChild:!0,children:(0,a.jsxs)(N.o,{className:_.join(" "),children:[null===(l=Array.from(null!==(s=n[e.name])&&void 0!==s?s:[]))||void 0===l?void 0:l.map(l=>{var n;return(0,a.jsx)(C,{tag:l,isSelected:(null===(n=t[e.name])||void 0===n?void 0:n.has(l))||!1,onClick:()=>d(e.name,l),isRenderedInsideCanvasModal:i},l)}),e.tags.filter(t=>{var l;return!(null===(l=n[e.name])||void 0===l?void 0:l.has(t))}).map(l=>{var n;return(0,a.jsx)(C,{tag:l,isSelected:(null===(n=t[e.name])||void 0===n?void 0:n.has(l))||!1,onClick:()=>d(e.name,l),isRenderedInsideCanvasModal:i},l)})]})},e.name)})]})},z=e=>Object.keys(e).reduce((t,l)=>{var a,n;return t+(null!==(n=null===(a=e[l])||void 0===a?void 0:a.size)&&void 0!==n?n:0)},0),A={[o.H7.FROM_TEXT]:c.r.TEXT_TO_IMAGE_TAGS_BTN,[o.H7.IMAGE_REMIX]:c.r.IMAGE_REMIX_TAGS_BTN},L=e=>{let{container:t,sideOffset:l,modalControl:s,variant:i="legacy",tagPopoverControlArgs:o,isRenderedInsideCanvasModal:c}=e,d=(0,n.usePathname)(),u=(0,g.m8)()(e=>e.user),{field:m}=(0,j.bc)(o),{value:x,onChange:p}=m,{isModalOpen:f,setIsModalOpen:N}=s,[y,w]=(0,r.useState)("Popular"),[C,_]=(0,r.useState)({});(0,r.useEffect)(()=>{if(!f){let e={};Object.keys(x).forEach(t=>{var l;let a=Array.from(null!==(l=x[t])&&void 0!==l?l:[]).sort();e[t]=new Set(a)}),_(e)}},[f,x]);let T=z(x);return(0,a.jsxs)(b.A6,{open:f,onOpenChange:N,children:[(0,a.jsx)(b.mu,{asChild:!0,children:(0,a.jsxs)(I.z,{variant:"ghost-secondary",className:(0,v.cn)("group/tag gap-2",{"bg-neutral-30 dark:bg-neutral-700":f,"h-9 gap-1.5 px-3 py-2":c&&T>0}),onClick:()=>{var e;A[d]&&(0,h.iC)(A[d],null!==(e=null==u?void 0:u.email)&&void 0!==e?e:"")},size:T>0?"md":c?"icon-lg":"icon-xl",children:[(0,a.jsx)(k.Dg,{className:(0,v.cn)("size-6",{"size-[18px]":c})}),T>0&&(0,a.jsx)("p",{className:(0,v.cn)("flex items-center gap-2 rounded-[40px] bg-neutral-30 px-1.5 py-0.5 text-center text-xs font-medium leading-[18px] text-neutral-900 transition-colors duration-500 group-hover/tag:bg-neutral-0 dark:bg-neutral-700 dark:text-neutral-0 dark:group-hover/tag:bg-neutral-800",{"bg-neutral-0 dark:bg-neutral-800":f,"px-1 py-0":c}),children:T})]})}),(0,a.jsx)(b.nE,{side:"top",align:"end",id:"something",container:t,alignOffset:c?-197:"v2"===i?-164:-207,sideOffset:c?198:l,className:(0,v.cn)("mb-2 flex max-w-5xl flex-wrap dark:bg-neutral-900",{"m-0 max-w-[526px] rounded-none rounded-tl-xl rounded-tr-xl data-[state=open]:h-[310px] data-[state=open]:animate-slideUp dark:bg-neutral-800":c,"max-w-[732px]":"v2"===i}),onInteractOutside:e=>{c&&e.preventDefault()},children:(0,a.jsx)(S,{category:y,tags:x,setTags:p,setCategory:w,sortTags:C,onCloseModal:()=>{N(!1)},isRenderedInsideCanvasModal:c})})]})},G={[o.H7.FROM_TEXT]:c.r.TEXT_TO_IMAGE_GENERATE_BTN,[o.H7.IMAGE_REMIX]:c.r.IMAGE_REMIX_GENERATE_BTN,[o.H7.CANVAS_TOOL]:{[p.A2.TextToImage]:c.r.CANVAS_TEXT_TO_IMAGE_GENERATE_BTN,[p.A2.ImageRemix]:c.r.CANVAS_IMAGE_REMIX_GENERATE_BTN}},M=e=>{let{promptFormHook:t,className:l,tagPopoverControlArgs:o,randomPrompts:c,disabled:p=!1,...j}=e,b=(0,n.usePathname)(),k=(0,r.useRef)(null),[I,N]=(0,r.useState)("v2"===j.variant?105:68),y=(0,m.d)(),w=(0,g.m8)()(e=>e.user),{activeAITool:C}=(0,x.f)(),{isRenderedInsideCanvas:_,modalContainer:T}=(0,d.B)(),E=t.isLoading,S=(0,r.useCallback)(()=>{y.closeModal();let e=G[b];if(e){var l,a;if("string"==typeof e){(0,h.iC)(e,null!==(l=null==w?void 0:w.email)&&void 0!==l?l:"",t.formHook.getValues());return}C&&e[C]&&(0,h.iC)(e[C],null!==(a=null==w?void 0:w.email)&&void 0!==a?a:"",t.formHook.getValues())}},[C,b,t.formHook,y,null==w?void 0:w.email]);return(0,a.jsxs)(a.Fragment,{children:[("legacy"===j.variant||!j.variant)&&(0,a.jsx)("div",{className:(0,v.cn)("absolute inset-x-0 bottom-6 mx-auto w-full px-4",{"bottom-0 p-0":_,className:l}),children:(0,a.jsx)("div",{className:"mx-auto w-full max-w-5xl",children:(0,a.jsx)(i.f,{toolComponents:[(0,a.jsx)(L,{tagPopoverControlArgs:o,modalControl:y,sideOffset:I,isRenderedInsideCanvasModal:_,container:T},"TagPopover"),(0,a.jsx)(f.o,{isRenderedInsideCanvasModal:_,name:t.name,formHook:t.formHook,customRandomPrompts:c},"RandomPromptCTA")],shouldOverrideExpand:y.isModalOpen,isRenderedInsideCanvasModal:_,onHeightChange:e=>N(e+20),onGenerateCallback:S,disabled:p,...t})})}),"v2"===j.variant&&(0,a.jsx)(u.B,{footerStart:(0,a.jsx)("div",{}),darkVariant:"dark-v2",className:l,isDraggingAllowed:!1,generateBtnRef:k,customRandomPrompts:c,promptTextAreaProps:{formHook:t.formHook,name:t.name},shouldFocus:j.shouldFocus,"aria-disabled":p,onFocusComplete:j.onFocusComplete,footerEnd:(0,a.jsxs)("div",{className:"relative flex gap-2",children:[(0,a.jsx)(L,{variant:"v2",sideOffset:I,container:T,modalControl:y,tagPopoverControlArgs:o,isRenderedInsideCanvasModal:_},"TagPopover"),(0,a.jsxs)(s.D,{className:"min-w-[141px]",isLoading:null!=E&&E,children:[(0,a.jsx)(s.D.Button,{ref:k,onClick:e=>{if(E){null==e||e.preventDefault();return}S()},disabled:t.disabled,credits:t.tokenCost,contentClassName:"justify-between gap-[7px]"}),(0,a.jsx)(s.D.Cancel,{handleCancel:t.onCancel})]})]})})]})};M.displayName="ResultViewCTA"},95428:function(e,t,l){l.d(t,{K:function(){return n}});var a=l(2265);let n=(e,t)=>{let{maxLength:l=150}=null!=t?t:{},[n,r]=(0,a.useState)(!1),s=e.slice(0,l),i=e.length!==s.length;return{isTruncated:n,toggleTruncatedText:()=>r(!n),text:n?e:s.trimEnd(),hasMoreText:i}}},80163:function(e,t,l){l.d(t,{f:function(){return s}});var a=l(39099),n=l(46409),r=l(50473);let s=(0,a.Ue)(e=>({activeAITool:null,showToolsSidebar:!1,showLayersSidebar:!1,showToolsModal:!1,designs:[],sortBy:n.R.LAST_EDITED,remixBaseImage:null,isNotSaved:!1,canvasMode:r.DZ.Select,prevProjectId:null,setActiveAITool:t=>e(()=>({activeAITool:t})),setShowToolsSidebar:t=>e(()=>({showToolsSidebar:t})),setShowLayersSidebar:t=>e(()=>({showLayersSidebar:t})),closeAllSidebars:()=>e(()=>({showToolsSidebar:!1,showLayersSidebar:!1})),setShowToolsModal:t=>e(()=>({showToolsModal:t})),setDesigns:t=>e(()=>({designs:t})),updateDesign:t=>e(e=>({designs:e.designs.map(e=>e.id===t.id?t:e)})),renameDesign:(t,l)=>e(e=>({designs:e.designs.map(e=>e.id===t?{...e,title:l}:e)})),setSortBy:t=>e(()=>({sortBy:t})),deleteDesign:t=>e(e=>({designs:e.designs.filter(e=>e.id!==t)})),setRemixBaseImage:t=>e(()=>({remixBaseImage:t})),setIsNotSaved:t=>e(()=>({isNotSaved:t})),setCanvasMode:t=>e(()=>({canvasMode:t})),setPrevProjectId:t=>e(()=>({prevProjectId:t}))}))},67259:function(e,t,l){l.d(t,{Qt:function(){return m},hB:function(){return g}});var a=l(14643),n=l(20920),r=l(39099),s=l(89291),i=l(22241),o=l(52247),c=l(47802);let d=(e,t)=>{if(!e||!t)return!1;let l=Object.keys(e),a=Object.keys(t);return l.length===a.length&&l.every(l=>{let a=e[l],n=t[l];return a&&n&&(0,c.EE)(a,n)})},u=e=>(null==e?void 0:e.trim().toLowerCase())||"",m=(e,t)=>{var l,a,n,r;return!!e&&!!t&&d(e.tags,t.tags)&&e.aspect_ratio===t.aspect_ratio&&e.cfg===t.cfg&&e.high_res_results===t.high_res_results&&u(e.negative_prompt)===u(t.negative_prompt)&&u(e.prompt)===u(t.prompt)&&e.seed===t.seed&&(null===(l=e.style)||void 0===l?void 0:l.id)===(null===(a=t.style)||void 0===a?void 0:a.id)&&(null===(n=e.model)||void 0===n?void 0:n.id)===(null===(r=t.model)||void 0===r?void 0:r.id)},x=e=>{let{collections:t,selectedCollectionId:l}=e;return l?t.findIndex(e=>e.id===l):-1},g=e=>(0,r.Ue)()((0,i.n)((0,s.mW)((t,l)=>({collections:[],selectedImageId:void 0,selectedCollectionId:void 0,setSelectedCollection:e=>{t(t=>{let l=t.collections.find(t=>t.id===e.id);l&&(t.selectedCollectionId=l.id,t.selectedImageId=l.images[0].id)})},setSelectedImage:e=>{t(t=>{let l=t.collections.find(e=>e.id===t.selectedCollectionId);l&&l.images.find(t=>t.id===e)&&(t.selectedImageId=e)})},addImagesToCollection:(r,s,i)=>{t(t=>{let o=x(l()),c=(0,a.cA)(s),d=r.map(e=>({id:(0,n.Z)(),...e,...i?{originalSrc:i.src,originalImageId:i.id,isVariation:!!i}:{}}));if(-1===o||!t.collections[o]){let e=(0,a.cA)({id:(0,n.Z)(),images:d,settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(...d);else{let e=(0,a.P2)({id:(0,n.Z)(),images:d,settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}})},addImageToCollectionWithLoading:(r,s)=>{let i=(0,n.Z)();return t(t=>{let o=x(l()),c=(0,a.cA)(r),d={id:i,src:"",...s?{originalSrc:s.src,originalImageId:s.id,isVariation:!!s}:{},isLoading:!0};if(-1===o||!t.collections[o]){let e=(0,a.cA)({id:(0,n.Z)(),images:[d],settings:r});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(d);else{let e=(0,a.P2)({id:(0,n.Z)(),images:[d],settings:r});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}}),{imageId:i,collectionId:""}},createCollectionWithSettings:e=>{let l=(0,n.Z)();return t(t=>{let n=(0,a.P2)({id:l,images:[],settings:e});t.collections.unshift(n)}),{collectionId:l}},addImageToGivenCollectionWithLoading:(e,l)=>{let a=(0,n.Z)();return t(t=>{let n={id:a,src:"",...l?{originalSrc:l.src,originalImageId:l.id,isVariation:!!l}:{},isLoading:!0},r=x({collections:t.collections,selectedCollectionId:e});-1!==r&&t.collections[r]&&t.collections[r].images.unshift(n)}),{imageId:a,collectionId:""}},deleteGivenCollection(e){t(t=>{let l=x({collections:t.collections,selectedCollectionId:e});-1!==l&&t.collections[l]&&t.collections.splice(l,1)})},completeImageGenerationLoadingOnGivenCollection(e){let{image:l,imageId:a,collectionId:n}=e;t(e=>{let t=x({collections:e.collections,selectedCollectionId:n});if(-1===t||!e.collections[t])return;let r=e.collections[t].images.find(e=>e.id===a);r&&(r.isLoading=!1,r.src=l.src)})},deleteLoadingImageFromGivenCollection:e=>{let{imageId:l,collectionId:a}=e;t(e=>{let t=x({collections:e.collections,selectedCollectionId:a});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==l),e.collections[t].images.length>0||e.collections.splice(t,1))})},setImageLoadingOnGivenCollection:(e,l,a)=>{t(t=>{let n=x({collections:t.collections,selectedCollectionId:a});if(-1===n||!t.collections[n])return;let r=t.collections[n].images.find(t=>t.id===e);r&&(r.isLoading=l)})},setImageUpscaleOnGivenCollection:(e,l,a,n)=>{t(t=>{let r=x({collections:t.collections,selectedCollectionId:n});if(-1===r||!t.collections[r])return;let s=t.collections[r].images.find(t=>t.id===e);s&&(s.upscaleSrc=l,s.isUpscaled=a)})},deleteImageFromGivenCollection:e=>{let{imageId:l,collectionId:a}=e;t(e=>{let t=x({collections:e.collections,selectedCollectionId:a});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==l),e.collections[t].images.length>0||(e.collections=e.collections.filter(l=>{var a;return l.id!==(null===(a=e.collections[t])||void 0===a?void 0:a.id)})))})},setFocusOfOriginalImageOnGivenCollection:(e,l,a)=>{t(t=>{let n=x({collections:t.collections,selectedCollectionId:a});if(-1===n||!t.collections[n])return;let r=t.collections[n].images.find(t=>t.id===e);r&&(r.isFocused=l)})},completeImageGenerationLoading(e){let{image:a,imageId:n}=e;t(e=>{e.collections.forEach(e=>{let t=e.images.find(e=>e.id===n);t&&(t.isLoading=!1,t.src=a.src,a.randomSeed&&(t.randomSeed=a.randomSeed))});let t=x(l());if(-1===t)return;let r=e.collections[t].images.find(e=>e.id===n);r&&(r.src=a.src,r.isLoading=!1,a.randomSeed&&(r.randomSeed=a.randomSeed))})},deleteLoadingImage(e){t(t=>{var a;let n=x(l());-1!==n&&(t.collections[n].images=t.collections[n].images.filter(t=>t.id!==e),t.collections[n].images.length>0||(t.collections.splice(n,1),t.selectedCollectionId=null===(a=t.collections[0])||void 0===a?void 0:a.id))})},resetCollectionStore:()=>{t(e=>{e.collections=[],e.selectedCollectionId=void 0,e.selectedImageId=void 0})},setImageLoading:(e,a)=>{t(t=>{t.collections.forEach(t=>{let l=t.images.find(t=>t.id===e);l&&(l.isLoading=a)});let n=x(l());if(-1===n)return;let r=t.collections[n].images.find(t=>t.id===e);r&&(r.isLoading=a)})},setImagesUpscale:(e,a,n)=>{t(t=>{t.collections.forEach(t=>{t.images.forEach(t=>{e===t.id&&(t.upscaleSrc=a,t.isUpscaled=n)})});let r=x(l());-1!==r&&t.collections[r].images.forEach(t=>{e===t.id&&(t.upscaleSrc=a,t.isUpscaled=n)})})},deleteImage:e=>{t(t=>{var a;t.collections.forEach(t=>{t.images=t.images.filter(t=>t.id!==e)}),e===t.selectedImageId&&(t.selectedImageId=void 0);let n=x(l());-1!==n&&(t.collections[n].images=t.collections[n].images.filter(t=>t.id!==e),t.collections[n].images.length>0||(t.collections=t.collections.filter(e=>{var l;return e.id!==(null===(l=t.collections[n])||void 0===l?void 0:l.id)}),t.selectedCollectionId=null===(a=t.collections[0])||void 0===a?void 0:a.id))})},setFocusOfOriginalImage:(e,a)=>{t(t=>{let n=x(l());if(-1===n)return;let r=t.collections[n].images.find(t=>t.id===e);r&&(r.isFocused=a)})}}),{enabled:!o.v.IS_PROD_DEPLOYMENT&&(0,c.Ep)().isBrowser})))},26067:function(e,t,l){l.d(t,{W1:function(){return r}});var a=l(67259);let n=()=>!1,r=(0,a.hB)(n);(0,a.hB)(n)}}]);